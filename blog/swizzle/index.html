<!doctype html><html lang=en><head><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-64J3C3W6RC"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-64J3C3W6RC")</script><title>Swizzle &ndash; Andrea Radaelli</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax.css><link rel=icon href=/favicon.ico type=image/x-icon><link rel=alternate type=application/rss+xml href=/blog/index.xml title="Andrea Radaelli's Blog"></head><body><header><nav><a href=/>Home</a>
<a href=/about/>About</a></nav></header><main><article class=article-container><div class=article-content><h1>Swizzle</h1><p class=page-date>27 January 2013 (Updated on: 4 November 2021)</p><h2 id=intro>Intro</h2><p>In 2013, all my friends were playing <a href=https://en.wikipedia.org/wiki/Ruzzle>Ruzzle</a> on their smartphones. It was the viral game of the year but I was the only one not playing it. I only had a <a href=https://en.wiktionary.org/wiki/dumbphone>dumbphone</a> so I could not join in the fun.</p><p>I was fascinated by how addicting the game was, given its simplicity, and I started thinkering how I could replicate it.</p><video controls>
<source src=/blog/swizzle/videos/gameplay.mp4 type=video/mp4></video><h2 id=analysis>Analysis</h2><p>The game is written in <a href=https://dlang.org/>D</a> because at the time I was looking to replace C++ for making games. The more I used C++ the more I found myself spending time avoiding bad patterns and the growing complexity of the language with each major release.</p><p>For this project I did not want to use any off the shelf multimedia framework because I wanted to challenge myself and use as less dependencies as possible. So I ended up having to deal with a lot of interfaces in order to use C libraries such as OpenGL, FreeType, and libpng. It turned out to be a huge amount of work so I reduced the scope and only made it work for Windows and not Linux as initially planned. After spending much of my time making interfaces for the C libraries, the game logic to re-implement Ruzzle turned out to be <em>minuscule</em> in comparison.</p><p>The game logic is all contained in one class: <a href=https://github.com/skilion/swizzle/blob/master/word_table.d>WordTable</a>. And the most interesting functions are two.</p><p><a href=https://github.com/skilion/swizzle/blob/a2e788be864b15880b18407250bdb9009a3f5e95/word_table.d#L33>WordTable.reset()</a>. This function prepares the game board by placing the letters. It starts by taking a random word and placing its letters close to each other in the board. Then this process is repeated until there is no more space left. This algorithm ensures that any game has valid words to be discovered. A simpler approach, where letters are placed randomly in the board could lead to corner cases where no words are available in a game.</p><p><figure><a href=/blog/swizzle/images/placing.png><picture><source media=(min-width:600px) srcset=/blog/swizzle/images/placing_hu_ae911f3ccfe83f3e.png><source media=(min-width:1200px) srcset=/blog/swizzle/images/placing_hu_97cd3b988b166558.png><img class=md__image src=/blog/swizzle/images/placing_hu_8134392904c7518.png alt="Example of placing the words: HELLO, WORLD, MUSIC"></picture></a><figcaption><small><i>Example of placing the words: HELLO, WORLD, MUSIC</i></small></figcaption></figure></p><p><a href=https://github.com/skilion/swizzle/blob/a2e788be864b15880b18407250bdb9009a3f5e95/word_table.d#L128>WordTable.findPossibleWords()</a>. This function finds all available words in the game board. It uses a recursive algorithm that tries to match each word in the word list by trying each neighbor letter at the current position.</p><h2 id=downloads>Downloads</h2><p>The source code is available on <a href=https://github.com/skilion/swizzle>GitHub</a> and it can be readily compiled on Windows using Visual D. Pre-compiled binaries are also <a href=https://github.com/skilion/swizzle/releases>available</a>.</p></div></article></main><footer></footer></body></html>